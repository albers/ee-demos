<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:fn="http://java.sun.com/jsp/jstl/functions"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:prime="http://primefaces.org/ui">

<h:head></h:head>

<h:body>
  <ui:composition template="/WEB-INF/templates/provs_template.xhtml">
    <ui:define name="content">
      <prime:layoutUnit position="center">
        <h:form>
          <prime:dataTable
            var="person"
            value="#{personenVerwaltungModel.personDataModel}"
            paginator="true"
            rows="20"
            paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
            rowsPerPageTemplate="10,20,50"
            sortBy="#{person.name}"
            resizableColumns="false"
            rowStyleClass="#{person eq personenVerwaltungModel.currentPerson ? 'selected' : null}">
            <prime:column style="width:66px">
              <f:facet name="header">
                <prime:commandButton
                  icon="ui-icon-plus"
                  title="hinzufügen"
                  ajax="false"
                  action="#{personenVerwaltungModel.createPerson}" />
              </f:facet>
              <prime:commandButton
                icon="ui-icon-pencil"
                title="bearbeiten"
                ajax="false"
                action="#{personenVerwaltungModel.editPerson(person)}" />
              <prime:commandButton
                icon="ui-icon-close"
                title="löschen"
                ajax="false"
                action="#{personenVerwaltungModel.deletePerson(person)}" />
            </prime:column>

            <prime:column
              headerText="Name"
              filterBy="#{person.name}"
              sortBy="#{person.name}"
              resizable="true">
              <h:outputText value="#{person.name}" />
            </prime:column>

            <prime:column
              headerText="Vorname"
              resizable="true">
              <h:outputText value="#{person.vorname}" />
            </prime:column>

            <prime:column
              headerText="Adresse"
              resizable="true">
              <h:outputText value="#{person.adresse}" />
            </prime:column>
          </prime:dataTable>
        </h:form>
      </prime:layoutUnit>
    </ui:define>
  </ui:composition>
</h:body>
</html>